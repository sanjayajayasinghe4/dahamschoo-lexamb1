<!DOCTYPE html>
<html lang="si">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daham Pasal Exam Booster - Preview</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Poppins:wght@700;800&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Inter', sans-serif; 
            background: #000000; 
            color: #fff; 
            min-height: 100vh; 
            padding: 20px;
        }
        
        #loginOverlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.95); display: flex;
            justify-content: center; align-items: center; z-index: 9999;
        }
        .login-box {
            background: rgba(10, 10, 10, 0.9); 
            padding: 40px; 
            border-radius: 20px;
            border: 2px solid #ffa500; 
            text-align: center; 
            max-width: 450px; 
            width: 90%;
        }
        .login-box h2 { color: #ffa500; margin-bottom: 20px; font-family: 'Poppins', sans-serif; }
        .input-group input {
            width: 100%; padding: 15px; border-radius: 10px;
            background: rgba(0, 0, 0, 0.8); border: 2px solid #ffa500; 
            color: #ffcc00; margin-bottom: 15px; text-align: center; 
        }
        .login-btn {
            width: 100%; padding: 15px; border-radius: 10px;
            background: linear-gradient(135deg, #ffa500, #ff8c00); 
            color: #000; font-weight: 800; cursor: pointer; border: none;
        }

        #mainContent { display: none; max-width: 1000px; margin: 0 auto; }
        .video-container { background: rgba(10, 10, 10, 0.8); padding: 15px; border-radius: 25px; margin: 20px 0; border: 2px solid #ffa500; }
        .video-wrapper { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 15px; }
        .video-wrapper iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; }
        
        /* මුලින්ම බොට්ව හංගන CSS එක - Password එක ගැහුවාම මේක අයින් වෙනවා */
        #chatbase-bubble-button { display: none !important; }

        @media (max-width: 768px) {
            header h1 { font-size: 1.6em; }
        }
    </style>
</head>
<body>

    <div id="loginOverlay">
        <div class="login-box">
            <h2>ප්‍රවේශය අවශ්‍යයි</h2>
            <input type="password" id="accessKey" style="width: 100%; padding: 15px; border-radius: 10px; margin-bottom: 15px; text-align: center;" placeholder="Password එක ගහන්න">
            <button class="login-btn" onclick="checkAccess()">UNLOCK</button>
        </div>
    </div>

    <div id="mainContent">
        <header style="text-align: center; padding: 40px 0;">
            <h1 style="color: #ffcc00;">Daham Pasal Exam Booster</h1>
        </header>

        <div class="video-container">
            <div id="videoContent"></div>
        </div>
        
        <footer style="text-align: center; color: rgba(255, 165, 0, 0.4); padding: 30px 0;">© 2024 Daham Pasal Support Unit.</footer>
    </div>

    <script>
    (function(){
        if(!window.chatbase||window.chatbase("getState")!=="initialized"){
            window.chatbase=(...arguments)=>{if(!window.chatbase.q){window.chatbase.q=[]}window.chatbase.q.push(arguments)};
            window.chatbase=new Proxy(window.chatbase,{get(target,prop){if(prop==="q"){return target.q}return(...args)=>target(prop,...args)}})
        }
        const onLoad=function(){
            const script=document.createElement("script");
            script.src="https://www.chatbase.co/embed.min.js";
            script.id="3tbWTrGVbphdNO8-14Q9z";
            script.domain="www.chatbase.co";
            document.body.appendChild(script)
        };
        if(document.readyState==="complete"){onLoad()}else{window.addEventListener("load",onLoad)}
    })();
    </script>

    <script>
        const secretKey = 'Daham2024';

        function checkAccess() {
            const inputValue = document.getElementById('accessKey').value;
            if (inputValue === secretKey) {
                document.getElementById('loginOverlay').style.display = 'none';
                document.getElementById('mainContent').style.display = 'block';
                
                // බොට්ව පෙන්වීමට බල කිරීම (Force Display)
                setTimeout(() => {
                    const botBtn = document.getElementById('chatbase-bubble-button');
                    if(botBtn) {
                        botBtn.style.setProperty('display', 'block', 'important');
                    } else {
                        // බොට් බටන් එක තවම හැදිලා නැත්නම් ආයේ පාරක් චෙක් කරන්න
                        location.reload(); // බොට් පේන්නෙම නැත්නම් Refresh කරන්න
                    }
                }, 1000);

                loadVideo();
            } else {
                alert('වැරදි මුරපදයක්!');
            }
        }

        function loadVideo() {
            const urlParams = new URLSearchParams(window.location.search);
            const vID = urlParams.get('v') || '7xGCnhAkim4';
            document.getElementById('videoContent').innerHTML = `
                <div class="video-wrapper">
                    <iframe src="https://www.youtube.com/embed/${vID}?autoplay=1" allow="autoplay; encrypted-media" allowfullscreen></iframe>
                </div>`;
        }
    </script>
</body>
</html>
